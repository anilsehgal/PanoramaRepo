<div ng-controller="IndexController" ng-init="getCurrentUser()">
    <form ng-submit="updateUser()" name="profileForm" novalidate>
        <div class="row">
            <div class="col-sm-2">
                <img src="{{currentUser.avatar}}" class="img-thumbnail" style="max-width: 100% !important;">
            </div>
            <div class="col-sm-10 topic-row">
                <p class="form-input-label">Full name&nbsp;
                            <span class="text-warning" ng-show="profileForm.fullName.$touched && profileForm.fullName.$invalid"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i></span>
                            <span class="text-success" ng-show="profileForm.fullName.$touched && profileForm.fullName.$valid"><i class="fa fa-check" aria-hidden="true"></i></span></p>
                <input type="text" ng-model="currentUser.fullName" name="fullName" id="userFullName" class="form-control" required>
                <br>
                <p class="form-input-label">Old password&nbsp;
                            <span class="text-warning" ng-show="profileForm.password.$touched && profileForm.password.$invalid"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i></span>
                            <span class="text-success" ng-show="profileForm.password.$touched && profileForm.password.$valid"><i class="fa fa-check" aria-hidden="true"></i></span></p>
                <input type="password" ng-model="currentUser.password" name="password" id="userPassword" class="form-control" required>
                <br>
                <p class="form-input-label">New password&nbsp;
                            <span class="text-warning" ng-show="profileForm.newPassword.$touched && profileForm.newPassword.$invalid"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i></span>
                            <span class="text-success" ng-show="profileForm.newPassword.$touched && profileForm.newPassword.$valid"><i class="fa fa-check" aria-hidden="true"></i></span></p>
                <input type="password" ng-model="currentUser.newPassword" name="newPassword"  id="userNewPassword" class="form-control" required>
                <br>
                <p class="form-input-label">Email&nbsp;
                            <span class="text-warning" ng-show="profileForm.email.$touched && profileForm.email.$invalid"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i></span>
                            <span class="text-success" ng-show="profileForm.email.$touched && profileForm.email.$valid"><i class="fa fa-check" aria-hidden="true"></i></span></p>
                <input type="text" ng-model="currentUser.email" name="email" id="userEmail" class="form-control" required>
                <br>
                <input type="submit" value="Update Profile" class="btn btn-primary" ng-disabled="profileForm.$invalid">
            </div>
            
        </div>
    </form>
    <div ng-init="getDiscussionsByCurrentUser()">
        <div ng-include="'views/home_template.html'"></div>
    </div>
</div>
